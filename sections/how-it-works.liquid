{% schema %}
{
  "name": "Pet Portrait Customizer",
  "settings": [
    {
      "type": "image_picker",
      "id": "default_image",
      "label": "Default Image"
    }
  ],
  "presets": [
    {
      "name": "Pet Portrait Customizer"
    }
  ]
}
{% endschema %}

<section x-data="petCustomizer()" class="flex justify-center items-center py-10  p-6 w-full xl:px-20 2xl:w-5/6 mx-auto">
  <div class="w-full p-6">
    <!-- Title -->
    <h2 class="text-5xl md:text-6xl font-bold mb-2 text-[#2B2B2B] text-center">Personalize Your Pet’s Portrait</h2>
    <p class="text-center text-[#2B2B2B]">Create one-of-a-kind artwork with our easy-to-use builder.</p>

    <div class="flex mt-6 gap-20 items-start flex-col-reverse lg:flex-row relative">
      <!-- Sidebar Buttons -->
      <div class="flex flex-1 flex-col gap-2 w-[20%]">
        <div class="flex flex-col gap-10">
          <button
            @click="selectOption('upload')"
            :class="selectedOption === 'upload' ? 'bg-black text-white' : 'bg-gray-200'"
            class="px-4 py-3 rounded-md transition cursor-pointer"
          >
            Upload Image
          </button>
          <button
            @click="selectOption('bg')"
            :class="selectedOption === 'bg' ? 'bg-black text-white' : 'bg-gray-200'"
            class="px-4 py-3 rounded-md transition cursor-pointer"
          >
            Select background
          </button>
          <button
            @click="selectOption('custom')"
            :class="selectedOption === 'custom' ? 'bg-black text-white' : 'bg-gray-200'"
            class="px-4 py-3 rounded-md transition cursor-pointer"
          >
            Customize
          </button>
          <button
            @click="selectOption('print')"
            :class="selectedOption === 'print' ? 'bg-black text-white' : 'bg-gray-200'"
            class="px-4 py-3 rounded-md transition cursor-pointer"
          >
            Ready To Print
          </button>
        </div>
        <!-- Action Buttons -->
        <div class="text-center absolute bottom-0 ">
          <button class="px-6 py-3 w-full button text-white font-semibold rounded-md cursor-pointer">
            Personalize Now →
          </button>
        </div>
      </div>

      <!-- Image Preview -->
      <div class="relative flex w-[80%]">
        <div class="rounded-lg w-full ">
          <img
            :src="selectedImage"
            alt="Pet Portrait"
            class="w-full rounded-md shadow-md"
            width=""
            height=""
          >
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  function petCustomizer() {
    return {
      selectedOption: 'upload',
      selectedImage: "{{ 'upload-image.png' | asset_url }}",
      selectOption(option) {
        this.selectedOption = option;
        const images = {
          upload: "{{ 'upload-image.png' | asset_url }}",
          bg: "{{ 'select-background.png' | asset_url }}",
          custom: "{{ 'customize.png' | asset_url }}",
          print: "{{ 'upload-image.png' | asset_url }}",
        };
        this.selectedImage = images[option] || this.selectedImage;
      },
    };
  }
</script>
